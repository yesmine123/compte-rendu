<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
</head>

<body>
    <div id="root"></div>
    <script type="text/babel">
        const avg = (moyprix) => {
            if (moyprix.length > 0) {
                let sum = 0;
                for (const prix of moyprix) sum += prix;
                return Math.round((sum / moyprix.length) * 100) / 100;
            }

            return null;
        }
        const App = (props) => {

            const products = [
                { prices: [1.2, 1.1, 1.0], name: "apple" },
                { prices: [1.8, 1.0, 1.9], name: "oragne" },
                { prices: [1.0, 0.9, 1.1], name: "bananas" },
                { prices: [], name: "raspberry" },
            ];

            return (
                <div className="main">
                    {products.map((p, x) => <Product key={x} product={p} />)}
                </div>
            )
        }

        const Product = ({ product }) => {
            const { prices, name } = product;

            return (
                <div className="product">
                    <ul > <p>{name} average: {avg(prices) || 'pas prix'}</p></ul>
                    { prices.length > 0 && (
                        <ul>
                            <h1>Ensemble des prix</h1>
                            {prices.map((price, i) => <li key={i}>{price}</li>)}
                        </ul>
                    )}
                </div>
            )
        }
        ReactDOM.render(
            <App />,
            document.getElementById('root')
        );
    </script>
</body>

</html>